# Habilitar reescritura
RewriteEngine On

# Responder a peticiones OPTIONS con 200
RewriteCond %{REQUEST_METHOD} OPTIONS
RewriteRule ^(.*)$ auth.php [L]

# Redirigir /auth/registro a auth.php
RewriteRule ^auth/registro$ auth.php [L,QSA]

# Redirigir /auth/login a auth.php
RewriteRule ^auth/login$ auth.php [L,QSA]

# Redirigir /auth/logout a auth.php
RewriteRule ^auth/logout$ auth.php [L,QSA]

# Redirigir /auth/me a auth.php
RewriteRule ^auth/me$ auth.php [L,QSA]

# Redirigir /perfil a perfil.php
RewriteRule ^perfil$ perfil.php [L,QSA]
RewriteRule ^perfil/todos$ perfil.php [L,QSA]

# Redirigir endpoints de chats
RewriteRule ^chats/crear$ chats.php [L,QSA]
RewriteRule ^chats/mis-chats$ chats.php [L,QSA]
RewriteRule ^chats/info$ chats.php [L,QSA]
RewriteRule ^chats/mensajes$ chats.php [L,QSA]
RewriteRule ^chats/enviar$ chats.php [L,QSA]

# Redirigir endpoints de videollamadas
RewriteRule ^videocall/token$ videocall.php [L,QSA]
RewriteRule ^videocall/iniciar$ videocall.php [L,QSA]
RewriteRule ^videocall/finalizar$ videocall.php [L,QSA]

# Redirigir endpoint de archivos
RewriteRule ^archivos/subir$ archivos.php [L,QSA]