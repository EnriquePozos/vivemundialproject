# Habilitar reescritura
RewriteEngine On

# Responder a peticiones OPTIONS con 200
RewriteCond %{REQUEST_METHOD} OPTIONS
RewriteRule ^(.*)$ auth.php [L]

# Redirigir /auth/registro a auth.php
RewriteRule ^auth/registro$ auth.php [L,QSA]

# Redirigir /auth/login a auth.php
RewriteRule ^auth/login$ auth.php [L,QSA]

# Redirigir /auth/logout a auth.php
RewriteRule ^auth/logout$ auth.php [L,QSA]

# Redirigir /auth/me a auth.php
RewriteRule ^auth/me$ auth.php [L,QSA]

# Redirigir /perfil a perfil.php
RewriteRule ^perfil$ perfil.php [L,QSA]
RewriteRule ^perfil/todos$ perfil.php [L,QSA]

# Redirigir endpoints de chats
RewriteRule ^chats/crear$ chats.php [L,QSA]
RewriteRule ^chats/mis-chats$ chats.php [L,QSA]
RewriteRule ^chats/info$ chats.php [L,QSA]
RewriteRule ^chats/mensajes$ chats.php [L,QSA]
RewriteRule ^chats/enviar$ chats.php [L,QSA]

# Redirigir endpoints de videollamadas
RewriteRule ^videocall/token$ videocall.php [L,QSA]
RewriteRule ^videocall/iniciar$ videocall.php [L,QSA]
RewriteRule ^videocall/finalizar$ videocall.php [L,QSA]

# Redirigir endpoint de archivos
RewriteRule ^archivos/subir$ archivos.php [L,QSA]

# Redirigir endpoints de quinielas
RewriteRule ^quinielas/disponibles$ quinielas.php?ruta=disponibles [L,QSA]
RewriteRule ^quinielas/agregar$ quinielas.php?ruta=agregar [L,QSA]
RewriteRule ^quinielas/listar$ quinielas.php?ruta=listar [L,QSA]
RewriteRule ^quinielas/participar$ quinielas.php?ruta=participar [L,QSA]
RewriteRule ^quinielas/finalizar$ quinielas.php?ruta=finalizar [L,QSA]
RewriteRule ^quinielas/detalles$ quinielas.php?ruta=detalles [L,QSA]
RewriteRule ^quinielas/participaciones$ quinielas.php?ruta=participaciones [L,QSA]
RewriteRule ^quinielas/mi-participacion$ quinielas.php?ruta=mi-participacion [L,QSA]

# API DE TIENDA
RewriteRule ^tienda/?$ tienda.php [L,QSA]
RewriteRule ^tienda/mis-iconos/?$ tienda.php [L,QSA]
RewriteRule ^tienda/comprar/?$ tienda.php [L,QSA]
RewriteRule ^tienda/equipar/?$ tienda.php [L,QSA]
RewriteRule ^tienda/desequipar/?$ tienda.php [L,QSA]